<div id="test-editormd">
<textarea style="display:none;" class="editormd-markdown-textarea" name="MarkDowm">{{value}}</textarea>
<!-- 第二个隐藏文本域，用来构造生成的HTML代码，方便表单POST提交，这里的name可以任意取，后台接受时以这个name键为准 -->
<textarea class="editormd-html-textarea" name="HTML"></textarea>
</div>
<textarea style="display:none;"class="editormd-temp" name="{{name}}"></textarea>
<script type="text/javascript">
var testEditor;
$(document).ready(function() {
    testEditor = editormd("test-editormd", {
        width   : "{{width}}",
        height  : {{height}},
        path    : "{{path}}",
        theme : "{{theme}}",
        previewTheme : "{{previewTheme}}",
        editorTheme : "{{editorTheme}}",

        codeFold : {{codeFold}},
        syncScrolling : {{syncScrolling}},
        saveHTMLToTextarea : true,    // 保存 HTML 到 Textarea
        searchReplace : {{searchReplace}},
        watch : {{watch}},                // 关闭实时预览
        htmlDecode : "{{htmlDecode}}",            // 开启 HTML 标签解析，为了安全性，默认不开启
        toolbar  : {{toolbar}},             //关闭工具栏
        previewCodeHighlight : {{previewCodeHighlight}}, // 关闭预览 HTML 的代码块高亮，默认开启
        emoji : {{emoji}},
        taskList : {{taskList}},
        tocm            : {{tocm}},         // Using [TOCM]
        tex : {{tex}},                   // 开启科学公式TeX语言支持，默认关闭
        flowChart : {{flowChart}},             // 开启流程图支持，默认关闭
        sequenceDiagram : {{sequenceDiagram}},       // 开启时序/序列图支持，默认关闭,
        dialogLockScreen : {{dialogLockScreen}},   // 设置弹出层对话框不锁屏，全局通用，默认为true
        dialogShowMask : {{dialogShowMask}},     // 设置弹出层对话框显示透明遮罩层，全局通用，默认为true
        dialogDraggable : {{dialogDraggable}},    // 设置弹出层对话框不可拖动，全局通用，默认为true
        dialogMaskOpacity : {{dialogMaskOpacity}},    // 设置透明遮罩层的透明度，全局通用，默认值为0.1
        dialogMaskBgColor : "{{dialogMaskBgColor}}", // 设置透明遮罩层的背景颜色，全局通用，默认为#fff
        imageUpload : {{imageUpload}},
        imageFormats :{{imageFormats|safe}},
        imageUploadURL : "{{imageUploadURL}}",
        onchange : function() {
            var content = $(".editormd-markdown-textarea").val()
            $(".editormd-temp").html($.trim(content))
        }
    });

});

</script>